"use strict";angular.module("top250",["ngRoute","jp"]).config(["$routeProvider",function(e){e.when("/top250/:page?",{controller:"top250Ctrl",templateUrl:"./top250/view.html"})}]).controller("top250Ctrl",["$scope","myJSONP","$route","$routeParams",function(e,t,o,a){document.getElementsByClassName("mask")[0].style.display="block",e.pageSize=5,e.curPage=a.page||1;var l=(e.curPage-1)*e.pageSize;t.jsonp("https://api.douban.com/v2/movie/top250",{start:l,count:e.pageSize},function(t){e.data=t,e.totlePage=Math.ceil(t.total/e.pageSize),e.$apply(),console.log(t),document.getElementsByClassName("mask")[0].style.display="none"}),e.goPage=function(t){t<1||t>e.totlePage||o.updateParams({page:t})}}]);