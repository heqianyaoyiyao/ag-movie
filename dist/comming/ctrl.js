"use strict";angular.module("comming",["ngRoute","jp"]).config(["$routeProvider",function(e){e.when("/comming/:page?",{controller:"commingCtrl",templateUrl:"./comming/view.html"})}]).controller("commingCtrl",["$scope","myJSONP","$route","$routeParams",function(e,o,t,a){document.getElementsByClassName("mask")[0].style.display="block",e.pageSize=5,e.curPage=a.page||1;var n=(e.curPage-1)*e.pageSize;o.jsonp("https://api.douban.com/v2/movie/coming_soon",{start:n,count:e.pageSize},function(o){e.data=o,e.totlePage=Math.ceil(o.total/e.pageSize),e.$apply(),console.log(o),document.getElementsByClassName("mask")[0].style.display="none"}),e.goPage=function(o){console.log(o),o<1||o>e.totlePage||t.updateParams({page:o})}}]);